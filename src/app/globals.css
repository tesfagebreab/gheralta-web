@import "tailwindcss";

@layer base {
  :root {
    /* DEFAULT: Gheralta Tours (Sandstone/Burnt Clay) */
    --background: #fafaf9; /* stone-50 */
    --foreground: #1c1917; /* stone-900 */
    --brand-accent: #c2410c; 
    --brand-accent-hover: #9a3412;
    --brand-selection: rgba(194, 65, 12, 0.2); /* Burnt Clay Tint */
    --brand-bg-texture: url("https://www.transparenttextures.com/patterns/sandpaper.png");

    --font-sans: var(--font-sans), ui-sans-serif, system-ui, sans-serif;
    --font-serif: var(--font-serif), ui-serif, Georgia, serif;
    --font-mono: var(--font-mono), ui-monospace, SFMono-Regular, monospace;
  }

  /* BRAND: Abune Yemata (Ancient Crimson & Dark Stone) */
  [data-brand="abuneyemata"] {
    --brand-accent: #b45309; /* Deep Ochre */
    --brand-accent-hover: #92400e;
    --brand-selection: rgba(180, 83, 9, 0.2); 
    --background: #fef2f2; /* very faint red tint */
    --brand-bg-texture: url("https://www.transparenttextures.com/patterns/cream-paper.png");
  }

  /* BRAND: Gheralta Adventures (Trek Green & Earth) */
  [data-brand="adventures"] {
    --brand-accent: #15803d; /* forest green */
    --brand-accent-hover: #166534;
    --brand-selection: rgba(21, 128, 61, 0.2); 
    --background: #f0fdf4; /* very faint green tint */
    --brand-bg-texture: url("https://www.transparenttextures.com/patterns/shattered.png");
  }

  body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    width: 100%;
    position: relative;
    /* Smooth background color shift during brand navigation */
    transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
  }

  /* Fixed Background Texture Overlay with subtle lighting gradient */
  body::before {
    content: "";
    position: fixed;
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%;
    background-image: 
      linear-gradient(to bottom, rgba(255,255,255,0.2), transparent),
      var(--brand-bg-texture);
    opacity: 0.3; /* Dialed to 0.3 for a more professional "whisper" of texture */
    z-index: -1;
    pointer-events: none;
    transition: background-image 0.4s ease;
  }

  h1, h2, h3 {
    text-wrap: balance; /* Prevents single words on the last line */
  }
}

@theme {
  /* Standard Stone Palette */
  --color-stone-50: #fafaf9;
  --color-stone-100: #f5f5f4;
  --color-stone-200: #e7e5e4;
  --color-stone-300: #d6d3d1;
  --color-stone-400: #a8a29e;
  --color-stone-500: #78716c;
  --color-stone-600: #57534e;
  --color-stone-800: #292524;
  --color-stone-900: #1c1917;

  /* Dynamic Brand Mappings */
  --color-brand-accent: var(--brand-accent);
  --color-brand-hover: var(--brand-accent-hover);
  --color-accent: var(--brand-accent);
  --color-accent-hover: var(--brand-accent-hover);
  
  --color-whatsapp: #25d366;

  --font-sans: var(--font-sans);
  --font-serif: var(--font-serif);
  --font-mono: var(--font-mono);

  --animate-fade-in: fadeIn 0.5s ease-out forwards;
  --animate-slide-up: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;

  @keyframes fadeIn {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  @keyframes slideUp {
    0% { opacity: 0; transform: translateY(100%); }
    100% { opacity: 1; transform: translateY(0); }
  }
}

@layer components {
  /* The Floating Chat Button */
  .btn-chat {
    @apply fixed bottom-6 right-6 md:bottom-8 md:right-8 z-50 flex items-center gap-3 
           bg-whatsapp text-white px-5 py-3 md:px-6 md:py-4 rounded-full 
           shadow-[0_10px_25px_-5px_rgba(37,211,102,0.4)] 
           hover:scale-110 active:scale-95 transition-all 
           duration-300 font-black text-[9px] md:text-[10px] uppercase tracking-[0.2em];
  }

  /* The Main CTA Button - Now Brand Aware */
  .btn-inquiry {
    @apply inline-flex items-center justify-center px-8 py-4 
           bg-stone-900 text-stone-50 rounded-full font-black
           text-[10px] uppercase tracking-[0.2em]
           hover:bg-brand-accent transition-all duration-300 
           cursor-pointer shadow-lg hover:-translate-y-1 active:translate-y-0;
  }

  /* Pricing Display Logic */
  .price-tag { @apply flex flex-col items-start gap-0; }
  .price-amount { @apply font-mono font-black text-2xl text-stone-900 tracking-tighter; }
  .price-label { @apply text-[9px] font-black uppercase tracking-[0.2em] text-stone-400 mb-0.5; }
  .price-request {
    @apply font-serif italic text-stone-500 text-base border-b border-stone-200 pb-0.5 
           hover:text-brand-accent hover:border-brand-accent transition-all duration-300 cursor-pointer;
  }
}

@layer base {
  /* Rich Text Styling for Strapi Content */
  .prose-gheralta { @apply max-w-none overflow-hidden; }
  .prose-gheralta p { @apply mb-6 md:mb-8 leading-[1.7] md:leading-[1.8] font-medium text-stone-600 text-base md:text-lg; }
  
  .prose-gheralta h2 {
    @apply font-serif italic text-3xl md:text-5xl text-stone-900 mb-6 mt-12 md:mb-8 md:mt-16 
           tracking-tight leading-tight md:leading-none uppercase border-l-4 md:border-l-8 
           border-brand-accent pl-4 md:pl-6 transition-colors duration-300;
  }

  .prose-gheralta h3 { 
    @apply font-sans font-black text-lg md:text-xl uppercase tracking-widest text-stone-800 mb-4 mt-10 md:mt-12; 
  }

  .prose-gheralta blockquote {
    @apply border-none p-6 md:p-10 italic text-xl md:text-2xl text-stone-800 
           bg-stone-100/80 rounded-[1.5rem] md:rounded-[2rem] my-8 md:my-12 relative
           shadow-inner backdrop-blur-sm; /* Added a subtle blur for extra depth */
    background-blend-mode: multiply;
  }

  .prose-gheralta blockquote::before {
    content: "â€œ";
    @apply absolute top-2 left-4 md:top-4 md:left-6 text-4xl md:text-6xl text-brand-accent opacity-20 font-serif;
  }

  .prose-gheralta img { 
    @apply max-w-full h-auto rounded-2xl my-8 shadow-md border border-stone-200; 
  }

  ::selection {
    background-color: var(--brand-selection);
    color: inherit;
  }
  
  ::-moz-selection {
    background-color: var(--brand-selection);
    color: inherit;
  }
}